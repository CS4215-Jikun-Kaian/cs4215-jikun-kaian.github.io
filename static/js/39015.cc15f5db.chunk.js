"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[39015],{84131:(e,t,n)=>{n.d(t,{N:()=>i});var o=n(72791),r=n(57689),s=n(11087);function i({when:e,message:t,...n}){return function(e,{beforeUnload:t}={}){const n=(0,r._Z)(o.useCallback((()=>"string"===typeof e&&!window.confirm(e)),[e])),i=o.useRef(n.state);o.useEffect((()=>{"blocked"===n.state&&n.reset(),i.current=n.state}),[n]),(0,s.yq)(o.useCallback((n=>{t&&"string"===typeof e&&(n.preventDefault(),n.returnValue=e)}),[e,t]),{capture:!0})}(!!e&&t,n),null}},14635:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(39997),r=n(41418),s=n.n(r),i=(n(72791),n(80184));const a=e=>{const t=(0,i.jsx)("div",{className:s()("ControlBar_editor",o.ZoI),children:e.editorButtons}),n=e.flowButtons&&(0,i.jsx)("div",{className:s()("ControlBar_flow",o.ZoI),children:e.flowButtons}),r=(0,i.jsx)("div",{className:s()("ControlBar_editingWorkspace",o.ZoI),children:e.editingWorkspaceButtons});return(0,i.jsxs)("div",{className:"ControlBar",children:[t,n,r]})}},89360:(e,t,n)=>{n.d(t,{_:()=>i});var o=n(95725),r=(n(72791),n(17862)),s=n(80184);const i=({handleReplOutputClear:e})=>(0,s.jsx)(r.Z,{label:"Clear",icon:o.d.REMOVE,onClick:e})},27156:(e,t,n)=>{n.d(t,{e:()=>a});var o=n(20535),r=n(95725),s=(n(72791),n(17862)),i=n(80184);const a=({handleReplEval:e,isRunning:t})=>t?null:(0,i.jsx)(o.u,{content:"...or press shift-enter in the REPL",children:(0,i.jsx)(s.Z,{label:"Eval",icon:r.d.CODE,onClick:e})})},42441:(e,t,n)=>{n.d(t,{F:()=>H,Z:()=>$});var o=n(65675),r=(n(25351),n(763)),s=n.n(r),i=n(72791),a=(n(40149),n(56339),n(59341),n(39997)),c=n(41418),l=n.n(c),d=n(38399),u=n(37325),h=n(94694),p=n(80184);class g extends i.PureComponent{constructor(e){super(e),this.getMarkers=()=>{const e=[];for(const t of this.props.highlightedLines)e.push({startRow:t[0],startCol:0,endRow:t[1],endCol:1,className:"myMarker",type:"fullLine"});return e},this.handleGutterClick=e=>{const t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;const n=e.getDocumentPosition().row,o=e.editor.session.getLine(n);void 0!==e.editor.session.getBreakpoints(n,0)[n]||0===o.length||o.includes("//")||o.includes("debugger;")?e.editor.session.clearBreakpoint(n):e.editor.session.setBreakpoint(n),e.stop(),this.props.handleEditorUpdateBreakpoints(e.editor.session.$breakpoints)},this.handleAnnotationChange=e=>()=>{const t=e.getAnnotations();let n=0;for(const e of t)"info"===e.type&&(e.type="error",e.className="ace_error",n++);0!==n&&e.setAnnotations(t)},this.handleEvaluate=()=>{this.props.handleEditorEval(),this.props.isRecording&&this.props.handleRecordInput({type:"keyboardCommand",time:this.props.getTimerDuration(),data:h.SO.run})},this.moveCursor=e=>{this.AceEditor.current.editor.selection.clearSelection(),this.AceEditor.current.editor.moveCursorToPosition(e),this.AceEditor.current.editor.renderer.showCursor(),this.AceEditor.current.editor.renderer.scrollCursorIntoView(e,.5)},this.handleDeclarationNavigate=()=>{this.props.handleDeclarationNavigate(this.AceEditor.current.editor.getCursorPosition())},this.AceEditor=i.createRef(),this.ShareAce=null,this.onChangeMethod=(e,t)=>{this.props.handleUpdateHasUnsavedChanges&&this.props.handleUpdateHasUnsavedChanges(!0),this.props.handleEditorValueChange(e),this.props.isRecording&&this.props.handleRecordInput({type:"codeDelta",time:this.props.getTimerDuration(),data:t});const n=this.AceEditor.current.editor.getSession().getAnnotations();this.props.isEditorAutorun&&0===n.length&&this.props.handleEditorEval()},this.onCursorChange=e=>{if(!this.props.isRecording)return;const t=e.getCursor();this.props.handleRecordInput({type:"cursorPositionChange",time:this.props.getTimerDuration(),data:t})},this.onSelectionChange=e=>{if(!this.props.isRecording)return;const t=e.getRange(),n=e.isBackwards();(0,r.isEqual)(t.start,t.end)||this.props.handleRecordInput({type:"selectionRangeData",time:this.props.getTimerDuration(),data:{range:t,isBackwards:n}})}}componentDidUpdate(e){const{codeDeltasToApply:t,inputToApply:n,newCursorPosition:o}=this.props;if(t&&t!==e.codeDeltasToApply&&(this.AceEditor.current.editor.session.getDocument().applyDeltas(t),this.AceEditor.current.editor.selection.clearSelection()),o&&o!==e.newCursorPosition&&this.moveCursor(o),n&&n!==e.inputToApply)switch(n.type){case"codeDelta":this.AceEditor.current.editor.session.getDocument().applyDelta(n.data),this.AceEditor.current.editor.selection.clearSelection();break;case"cursorPositionChange":this.moveCursor(n.data);break;case"selectionRangeData":const{range:e,isBackwards:t}=n.data;this.AceEditor.current.editor.selection.setRange(e,t);break;case"keyboardCommand":if("run"===n.data)this.props.handleEditorEval(),this.props.setDraggableReplPosition&&this.props.setDraggableReplPosition()}}getBreakpoints(){return this.AceEditor.current.editor.session.getBreakpoints().filter((e=>null!=e))}componentDidMount(){if(!this.AceEditor||!this.AceEditor.current||!this.AceEditor.current.editor)return;const e=this.AceEditor.current.editor,t=e.getSession();e.on("gutterclick",this.handleGutterClick),t.on("changeAnnotation",this.handleAnnotationChange(t));const{onFocus:n,onBlur:o}=this.props;n&&e.on("focus",(t=>n(t,e))),o&&e.on("blur",(t=>o(t,e)))}componentWillUnmount(){null!==this.ShareAce&&this.ShareAce.WS.close(),this.ShareAce=null}render(){return(0,p.jsx)(u.HotKeys,{className:l()("Editor",a.TUJ,a.FZf),handlers:m,children:(0,p.jsx)("div",{className:"row editor-react-ace",children:(0,p.jsx)(d.ZP,{className:"react-ace",commands:[{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:this.handleEvaluate},{name:"navigate",bindKey:{win:"Ctrl-B",mac:"Command-B"},exec:this.handleDeclarationNavigate}],editorProps:{$blockScrolling:1/0},ref:this.AceEditor,markers:this.getMarkers(),fontSize:17,height:"100%",highlightActiveLine:!1,mode:"javascript",onChange:this.onChangeMethod,onCursorChange:this.onCursorChange,onSelectionChange:this.onSelectionChange,readOnly:this.props.isEditorReadonly,theme:"source",value:this.props.editorValue,width:"100%",setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:this.props.editorBinding})})})}}const m={goGreen:()=>{}},f=g;var v=n(8098),C=(n(30027),n(21880),n(61608),n(42543)),b=n(78052),x=n(1269);const E={evaluate:{win:"Shift-Enter",mac:"Shift-Enter"},navigate:{win:"Ctrl-B",mac:"Command-B"},refactor:{win:"Ctrl-M",mac:"Command-M"},highlightScope:{win:"Ctrl-Shift-H",mac:"Command-Shift-H"}};var k=n(61881);const y=(e,t,n,r)=>{const s=i.useRef(e);s.current=e;const a=i.useRef([]),c=i.useCallback((()=>{setTimeout((()=>{if(!r.current)return;const e=r.current.editor,t=e.session,n=t.getValue(),i=s.current.sourceChapter,c=e.getCursorPosition();if(!t||!t.bgTokenizer)return;a.current.forEach((e=>{t.removeMarker(e)}));const l=(0,k.getAllOccurrencesInScope)(n,(0,k.createContext)(i),{line:c.row+1,column:c.column}).map((e=>new o.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)));a.current=l.map((e=>t.addMarker(e,"ace_variable_highlighting","text")))}),10)}),[r]),l=i.useCallback((()=>{if(!r.current)return;const e=r.current.editor,t=e.getValue(),n=s.current.sourceChapter,i=e.getCursorPosition(),c=(0,k.getScope)(t,(0,k.createContext)(n),{line:i.row+1,column:i.column});0!==c.length&&c.forEach((t=>{a.current.push(e.session.addMarker(new o.Range(t.start.line-1,t.start.column,t.end.line-1,t.end.column),"ace_selection","text"))}))}),[r]),{onChange:d,onCursorChange:u}=t;t.onChange=i.useCallback(((e,t)=>{c(),d&&d(e,t)}),[c,d]),t.onCursorChange=i.useCallback(((e,t)=>{c(),u&&u(e,t)}),[c,u]),n.highlightScope=l};var w=n(53846),S=n(9631);const N=(e,t,n,o)=>{const r=i.useRef(e);r.current=e;const s=i.useCallback((()=>{const e=o.current.editor,t=e.selection.getCursor(),n=e.session.getTokenAt(t.row,t.column),{sourceChapter:s,handleDeclarationNavigate:i}=r.current;i(e.getCursorPosition());const a=e.selection.getCursor();if(a.row!==t.row||a.column!==t.column)return;if((0,k.hasDeclaration)(e.getValue(),(0,k.createContext)(s),{line:a.row+1,column:a.column}))return;const c=S.y.sourceDocs,l=r.current.sourceVariant===C.Variant.DEFAULT?"":`_${r.current.sourceVariant}`,d=void 0===r.current.externalLibraryName?"NONE":r.current.externalLibraryName,u="ALL"===r.current.externalLibraryName?"External%20libraries":d;w.u.externalLibraries[d].some((e=>e.caption===(n&&n.value)))?null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${c}${u}/global.html#${n.value}`):null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${c}source_${s}${l}/global.html#${n.value}`),null!==n&&/\bstorage.type\b/.test(n.type)&&window.open(`${c}source_${s}.pdf`)}),[o]);n.navigate=s},A=(e,t,n,r)=>{const{sourceChapter:s}=e,a=i.useCallback((()=>{const e=r.current.editor;if(!e)return;const t=e.getValue(),n=e.getCursorPosition(),i=(0,k.getAllOccurrencesInScope)(t,(0,k.createContext)(s),{line:n.row+1,column:n.column}),a=e.getSelection();i.map((e=>new o.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column))).forEach((e=>a.addRange(e)))}),[r,s]);n.refactor=a};var j=n(99951);const R=Object.freeze({"http:":"ws:","https:":"wss:"});function P(e,t){const n=new URL(e,S.Z.sharedbBackendUrl);return t&&Object.keys(R).includes(n.protocol)&&(n.protocol=R[n.protocol]),n.toString()}var B=n(78498);const I=(e,t,n,o)=>{const r=i.useRef(e);r.current=e;const{editorSessionId:s,sessionDetails:a}=e;i.useEffect((()=>{if(!s||!a)return;const e=o.current.editor,t=new j.Z(a.docId,{WsUrl:P(s,!0),pluginWsUrl:null,namespace:"sa"});t.on("ready",(()=>{t.add(e,["contents"],[]),r.current.handleSetSharedbConnected(!0),e.setReadOnly(a.readOnly),(0,B.rO)("You have joined a session as "+(a.readOnly?"a viewer.":"an editor."))})),t.on("error",((e,t)=>{console.error("ShareAce error",t)}));const n=t.WS;let i;return i=setInterval((async()=>{if(null!==t)try{null===await async function(e){const t=await fetch(P(e));return t&&t.ok?t.json():null}(s)&&(clearInterval(i),n.close())}catch{n.reconnect()}}),5e3),n.addEventListener("open",(()=>{r.current.handleSetSharedbConnected(!0)})),n.addEventListener("close",(()=>{r.current.handleSetSharedbConnected(!1)})),()=>{clearInterval(i);for(const e of Object.values(t.connections))e.unlisten();t.WS.close(),e.setReadOnly(!1)}}),[s,a,o])},L=["onSelectionChange","onCursorChange","onInput","onLoad","onValidate","onBeforeLoad","onChange","onSelection","onCopy","onPaste","onFocus","onBlur","onScroll"],T=e=>{const t=[];return e.forEach(((e,n)=>{"ace_breakpoint"===e&&t.push(n)})),t},D={goGreen:()=>{}},O=i.memo((e=>{var t;const n=i.useRef(null),[r,s]=i.useState(void 0),c=i.useRef(e.handleEditorUpdateBreakpoints),h=i.useRef(e.handlePromptAutocomplete),g=null===(t=n.current)||void 0===t?void 0:t.editor;void 0!==g&&r!==e.filePath&&(e.session.setMode(g.getSession().getMode()),g.setSession(e.session),g.getSession().selection._eventRegistry.changeCursor.length<2&&g.getSession().selection.on("changeCursor",n.current.onCursorChange),void 0!==r&&g.focus(),s(e.filePath)),i.useEffect((()=>{c.current=e.handleEditorUpdateBreakpoints,h.current=e.handlePromptAutocomplete}),[e.handleEditorUpdateBreakpoints,e.handlePromptAutocomplete]),i.useEffect((()=>{void 0!==g&&((e,t)=>{const n=T(t);e.session.setBreakpoints(n)})(g,e.breakpoints)}),[g,e.breakpoints]),i.useEffect((()=>(/iPhone|iPad|iPod/.test(navigator.userAgent)&&(document.body.style.position="fixed",document.body.style.width="100%"),()=>{document.body.style.position="",document.body.style.width=""})),[]);const[m,f,v]=[e.sourceChapter||C.Chapter.SOURCE_1,e.sourceVariant||C.Variant.DEFAULT,e.externalLibraryName||"NONE"];(0,b.g)(m,f,v),i.useLayoutEffect((()=>{if(void 0===g)return;const t=g.getSession();var n,r,s;if(g.on("gutterclick",(n=c.current,r=e.editorTabIndex,e=>{const t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;const o=e.getDocumentPosition().row,s=e.editor.session.getLine(o);void 0!==e.editor.session.getBreakpoints()[o]||0===s.length||s.includes("//")||s.includes("debugger;")?e.editor.session.clearBreakpoint(o):e.editor.session.setBreakpoint(o,void 0),e.stop(),n(r,e.editor.session.getBreakpoints())})),t.on("changeAnnotation",(e=>()=>{const t=e.getAnnotations();let n=0;for(const e of t)"info"===e.type&&(e.type="error",e.className="ace_error",n++);0!==n&&e.setAnnotations(t)})(t)),e.sourceChapter===C.Chapter.FULL_C||e.sourceChapter===C.Chapter.FULL_JAVA){const{textCompleter:e,keyWordCompleter:t,setCompleters:n}=(0,o.require)("ace/ext/language_tools");n([e,t])}else(0,o.require)("ace/ext/language_tools").setCompleters([(s=(...e)=>h.current(...e),{getCompletions:(e,t,n,o,r)=>{o&&/\d/.test(o.charAt(0))?r():s(n.row+1,n.column,r)}})])}),[g,e.sourceChapter,e.editorTabIndex]),i.useLayoutEffect((()=>{if(void 0===g)return;const t=e.newCursorPosition;t&&((e,t)=>{e.selection.clearSelection(),e.moveCursorToPosition(t),e.renderer.showCursor(),e.renderer.scrollCursorIntoView(t,.5)})(g,t)}),[g,e.newCursorPosition]);const{handleUpdateHasUnsavedChanges:k,handleEditorValueChange:y,isEditorAutorun:w,handleEditorEval:S}=e,N={evaluate:S},A={className:"react-ace",editorProps:{$blockScrolling:1/0},markers:i.useMemo((()=>e.highlightedLines.map((e=>({startRow:e[0],startCol:0,endRow:e[1],endCol:1,className:"myMarker",type:"fullLine"})))),[e.highlightedLines]),fontSize:17,height:"100%",highlightActiveLine:!1,mode:(0,b.M)(m,f,v),theme:"source",value:e.editorValue,width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:e.editorBinding},[j]=i.useState(e.hooks);if(j)for(const o of j)o(e,A,N,n);const{onChange:R}=A;return A.onChange=i.useCallback(((t,o)=>{if(!n.current)return;((e,t)=>{const n=e=>0===e.trim().length,o=e.session.getBreakpoints(),r=T(o),s=[],i=t.start.row,a=t.start.column,c=t.end.row,l=t.lines.length-1;for(const u of r)switch(t.action){case"insert":{let t;if(u<i)t=!1;else if(u===i){t=(d=e.session.getLine(u)).length-d.trimStart().length>=a}else t=!0;const n=u+(t?l:0);s.push(n);break}case"remove":{let t;if(u<i)t=!1;else{if(u>i&&u<c)break;if(u===i){if(n(e.session.getLine(u)))break;t=!1}else if(u===c){if(n(e.session.getLine(u-l).substring(a)))break;t=!0}else t=!0}const o=u-(t?l:0);s.push(o);break}}var d;e.session.setBreakpoints(s)})(n.current.editor,o),y(e.editorTabIndex,t),c.current(e.editorTabIndex,n.current.editor.session.getBreakpoints()),k&&k(!0);const r=n.current.editor.getSession().getAnnotations();w&&0===r.length&&S(),void 0!==R&&R(t,o)}),[y,e.editorTabIndex,k,w,R,S]),A.commands=(0,x.qP)(N).filter((([e,t])=>t)).map((([e,t])=>({name:e,bindKey:E[e],exec:t}))),L.forEach((t=>{const n=e[t];if(n){const e=A[t];A[t]=e?function(...t){e(...t),n(...t)}:n}})),(0,o.require)("ace/ext/menu_tools/overlay_page").overlayPage=function(e,t,n){let o=document.createElement("div");o.id="overlay";let r=!1;function s(e){27===e.keyCode&&i()}function i(){var t,r;o&&(document.removeEventListener("keydown",s),null===(t=o)||void 0===t||null===(r=t.parentNode)||void 0===r||r.removeChild(o),e&&e.focus(),o=null,n&&n())}return o.style.cssText="margin: 0; padding: 0; position: fixed; top:0; bottom:0; left:0; right:0;z-index: 9990; "+(e?"background-color: rgba(0, 0, 0, 0.3);":""),o.addEventListener("click",(function(e){r||i()})),document.addEventListener("keydown",s),t.addEventListener("click",(function(e){e.stopPropagation()})),o.appendChild(t),document.body.appendChild(o),e&&e.blur(),{close:i,setIgnoreFocusOut:function(e){r=e,e&&(o.style.pointerEvents="none",t.style.pointerEvents="auto")}}},i.useEffect((()=>()=>{const e=document.getElementById("overlay");var t;e&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}),[]),(0,p.jsx)(u.HotKeys,{className:l()("Editor",a.TUJ,a.FZf),handlers:D,children:(0,p.jsx)("div",{className:"row editor-react-ace","data-testid":"Editor",children:(0,p.jsx)(d.ZP,{...A,ref:n})})})})),Z=[y,N,I,A],M=e=>{const[t,n]=i.useState({}),r=(0,o.require)("ace/mode/javascript").Mode(),s=(0,o.createEditSession)(e.editorValue,r);return void 0!==e.filePath&&void 0===t[e.filePath]&&n({...t,[e.filePath]:s}),(0,p.jsx)(O,{...e,session:e.filePath?t[e.filePath]:s,hooks:Z})};var U=n(84879),_=n(77640),z=n(95725);const V=({filePath:e,isActive:t,setActive:n,remove:o})=>(0,p.jsxs)(U.Z,{className:l()("editor-tab",{selected:t}),onClick:n,children:[e,(0,p.jsx)(_.I,{className:"remove-button",icon:z.d.SMALL_CROSS,onClick:e=>{e.stopPropagation(),o()}})]});var F=n(67643);const W=({baseFilePath:e,filePaths:t,activeEditorTabIndex:n,setActiveEditorTabIndex:o,removeEditorTabByIndex:r})=>{const s=(e=>{const t={},n=e.reduce(((e,t)=>({...e,[t]:t.split(F.posix.sep).filter((e=>""!==e))})),{});for(let o=1;Object.keys(t).length<e.length;o++){const e=Object.entries(n).reduce(((e,[t,n])=>{var r;const s="/"+n.slice(-o).join("/");return{...e,[s]:(null!==(r=e[s])&&void 0!==r?r:[]).concat(t)}}),{});Object.entries(e).forEach((([e,o])=>{if(o.length>1)return;const r=o[0];t[r]=e,delete n[r]}))}return e.map((e=>t[e]))})(t.map((t=>t.replace(e,""))));return(0,p.jsx)("div",{className:"editor-tab-container",onWheel:e=>{e.currentTarget.scrollTo({left:e.currentTarget.scrollLeft+e.deltaY})},children:s.map(((e,t)=>(0,p.jsx)(V,{filePath:e,isActive:t===n,setActive:()=>o(t),remove:()=>r(t)},t)))})},H=(e,t)=>({editorTabIndex:t,editorValue:e.value,...s().pick(e,"filePath","highlightedLines","breakpoints","newCursorPosition")}),$=e=>{const[t]=i.useContext(v.Nb),{baseFilePath:n,isFolderModeEnabled:o,activeEditorTabIndex:r,setActiveEditorTabIndex:s,removeEditorTabByIndex:a,editorTabs:c,...l}=e;l.editorBinding=t.editorBinding;const d="sourcecast"===l.editorVariant?(e=>t=>(0,p.jsx)(f,{...e,...t}))(l):(e=>t=>(0,p.jsx)(M,{...e,...t}))(l);if(null===r)return(0,p.jsx)("div",{className:"editor-container",children:(0,p.jsx)("h1",{children:"Double click on a file in the sidebar to start editing!"})});const u=c.map((e=>{var t;return null!==(t=e.filePath)&&void 0!==t?t:"UNKNOWN"}));return(0,p.jsxs)("div",{className:"editor-container",children:[o&&(0,p.jsx)(W,{baseFilePath:null!==n&&void 0!==n?n:"",activeEditorTabIndex:r,filePaths:u,setActiveEditorTabIndex:s,removeEditorTabByIndex:a}),d(c[r])]})}},55360:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(63978),r=n(50698),s=n(84879),i=(n(72791),n(74106)),a=n(78498),c=n(80184);const l=({mcq:e,handleMCQSubmit:t})=>{const n=e.choices.map(((n,s)=>{const l=s===e.answer,d=void 0!==e.solution,u=s===e.solution;return(0,c.jsx)(o.z,{className:"mcq-option col-xs-12",active:l,intent:l&&d?u?r.S.SUCCESS:r.S.DANGER:r.S.NONE,onClick:()=>{if(l||t(s),!n.hint||!d)return;const e=(0,c.jsx)(i.Z,{className:"markdown-notification",content:n.hint});u?(0,a.rO)(e,4e3):(0,a.N9)(e,4e3)},minimal:!0,children:(0,c.jsx)(i.Z,{content:n.content})},s)}));return(0,c.jsx)("div",{className:"MCQChooser row","data-testid":"MCQChooser",children:(0,c.jsx)(s.Z,{className:"mcq-content-parent col-xs-12 middle-xs",children:(0,c.jsx)("div",{className:"row mcq-options-parent between-xs",children:n})})})}},90713:(e,t,n)=>{n.d(t,{GA:()=>r,YF:()=>s,q1:()=>o});const o=e=>e.toLowerCase().replace(/\W+/g,"_"),r=e=>{if(void 0===e)return null;const t=parseInt(e,10);return Number.isInteger(t)?t:null},s=e=>void 0===e?null:"true"===e.toLowerCase()},32070:(e,t,n)=>{n.d(t,{Z:()=>N});var o=n(55048),r=n(20535),s=n(63978),i=n(95725),a=n(68503),c=n(30309),l=n(72791),d=n(14635),u=n(42441),h=n(55360),p=n(84131),g=n(1324),m=n(84879),f=n(77640),v=n(41418),C=n.n(v),b=n(80184);const x=({tabs:e,isExpanded:t,expandSideBar:n,collapseSideBar:o})=>{const[r,s]=l.useState(0);return 0===e.length?(0,b.jsx)("div",{className:"sidebar-container"}):(0,b.jsxs)("div",{className:"sidebar-container",children:[(0,b.jsx)("div",{className:"sidebar-tab-container",children:e.map(((e,i)=>(0,b.jsxs)(m.Z,{className:C()("sidebar-tab",{selected:t&&r===i}),onClick:()=>{var e;r!==(e=i)?(s(e),n()):t?o():n()},children:[(0,b.jsx)(f.I,{className:"sidebar-tab-icon",icon:e.iconName,size:14}),e.label]},i)))}),null!==r&&(0,b.jsx)(m.Z,{className:"sidebar-panel",children:e[r].body})]})};var E=n(45054),k=n(90362);const y={right:!0},w={bottom:!0},S={},N=e=>{const t=(0,l.useRef)(null),n=(0,l.useRef)(null),m=(0,l.useRef)(null),f=(0,l.useRef)(null),v=(0,l.useRef)(null),C=(0,l.useRef)(null),[N]=(0,k.Bs)(n),[A,j]=(0,l.useState)(200),[R,P]=(0,l.useState)(!0);o.$.onlyShowFocusOnTabs(),(0,l.useEffect)((()=>{e.sideContentIsResizeable&&null===v.current&&(v.current=C.current.clientHeight)}));const B=(e,n,o,r)=>{if(o.clientWidth<100){const e=t.current;if(null===e)throw Error("Reference to SideBar not found when resizing.");e.updateSize({width:40,height:"100%"}),P(!1)}else P(!0)},I=(e,t,n)=>{const o=n.clientWidth/N*100;o>95?f.current.updateSize({width:"100%",height:"100%"}):o<5&&f.current.updateSize({width:"0%",height:"100%"})},L=(e,t,n)=>{v.current=C.current.clientHeight>v.current?C.current.clientHeight:v.current;const o=n.clientHeight,r=n.parentNode.clientHeight;o+v.current+2>r?C.current.style.display="none":C.current.style.display="initial"},T=(0,b.jsx)(E.Z,{...e.sideContentProps}),D=(0,b.jsxs)(c.e,{bounds:"parent",className:"resize-side-content",enable:w,onResize:L,onResizeStop:(t,n,o)=>e.handleSideContentHeightChange(o.clientHeight),children:[T,(0,b.jsx)("div",{className:"side-content-divider",ref:C})]}),{ref:O,toggle:Z,fullscreen:M}=(0,a.O)(),U=l.useRef(null),_=l.useCallback((e=>{U.current=e,O(e)}),[O]);return(0,b.jsxs)("div",{className:"workspace",children:[(0,b.jsx)(p.N,{when:!!e.hasUnsavedChanges,message:"You have changes that may not be saved. Are you sure you want to leave?"}),(0,b.jsx)(d.Z,{...e.controlBarProps}),(0,b.jsxs)("div",{className:"workspace-parent",children:[(0,b.jsx)(c.e,{...(()=>{const n=0!==e.sideBarProps.tabs.length,o=n?40:"auto";return{enable:n?y:S,minWidth:o,maxWidth:"50%",onResize:B,onResizeStop:(e,t,n,o)=>{const r=n.clientWidth;40!==r&&j(r)},ref:t,size:{width:n&&R?A:o,height:"100%"},defaultSize:{width:o,height:"100%"}}})(),children:(0,b.jsx)(x,{...e.sideBarProps,isExpanded:R,expandSideBar:()=>P(!0),collapseSideBar:()=>P(!1)})}),(0,b.jsxs)("div",{className:"row content-parent",ref:n,children:[(0,b.jsx)("div",{className:"editor-divider",ref:m}),(0,b.jsx)(c.e,{className:"resize-editor left-parent",enable:y,minWidth:0,onResize:I,ref:f,defaultSize:{width:"50%",height:"100%"},as:void 0,children:(e=>e.editorContainerProps?(0,b.jsx)(u.Z,{...e.editorContainerProps}):(0,b.jsx)(h.Z,{...e.mcqProps}))(e)}),(0,b.jsxs)("div",{className:"right-parent",ref:_,children:[(0,b.jsx)(r.u,{className:"fullscreen-button",content:M?"Exit fullscreen":"Fullscreen",portalContainer:U.current||void 0,children:(0,b.jsx)(s.z,{minimal:!0,icon:M?i.d.MINIMIZE:i.d.MAXIMIZE,onClick:Z})}),void 0===e.sideContentIsResizeable||e.sideContentIsResizeable?D:T,(0,b.jsx)(g.Z,{...e.replProps})]})]})]})]})}}}]);
//# sourceMappingURL=39015.cc15f5db.chunk.js.map